# üìä SampleSizeCalculator

[![PyPI version](https://img.shields.io/pypi/v/sample-size-calculator.svg)](https://pypi.org/project/sample-size-calculator/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python](https://img.shields.io/badge/Python-3.7%2B-blue)](https://www.python.org/)

`SampleSizeCalculator ‚Äî —ç—Ç–æ Python-–∫–ª–∞—Å—Å –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–∫–∏ –≤ A/B-—Ç–µ—Å—Ç–∞—Ö. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞—Å—á–µ—Ç –ø–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–º—É –∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ–º—É MDE, –ø–æ–ø—Ä–∞–≤–∫—É –ë–æ–Ω—Ñ–µ—Ä–æ–Ω–Ω–∏, –Ω–µ–ø–æ—Ä–æ–≤–Ω—É –¥–µ–ª–µ–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫, –∞ —Ç–∞–∫–∂–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–∫–∏ –æ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ–º–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞.
üß† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

    –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–∫–∏ –¥–ª—è A/B-—Ç–µ—Å—Ç–æ–≤:

        –ø–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–º—É MDE (–Ω–∞–ø—Ä–∏–º–µ—Ä, +10%)

        –ø–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–º—É MDE (–Ω–∞–ø—Ä–∏–º–µ—Ä, +2 –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞)

    –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

        –û–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –∏ –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Ç–µ—Å—Ç–∞

        –ü–æ–ø—Ä–∞–≤–∫–∏ –ë–æ–Ω—Ñ–µ—Ä–æ–Ω–Ω–∏ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–π

        –ù–µ—Ä–∞–≤–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ (A/B ‚â† 50/50)

    –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–∫–∏ –æ—Ç MDE (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Plotly)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
python3 -m pip install git+https://github.com/Aproject618/sample_size_calculator.git
```

–ò–ª–∏, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤:

```bash
git clone https://github.com/Aproject618/sample_size_calculator.git
cd sample-size-calculator
pip install .
```

## üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```Python
calculator = SampleSizeCalculator()
    
# –ü—Ä–∏–º–µ—Ä 1: –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π MDE
sample_size = calculator.calculate_sample_size_relative(
    p1=0.1,
    relative_mde=0.1,
    bonferroni_correction=2,
    split_ratio=0.3
)
print(f"–†–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –Ω–∞ –≥—Ä—É–ø–ø—É: {sample_size}")
    
# –ü—Ä–∏–º–µ—Ä 2: –∞–±—Å–æ–ª—é—Ç–Ω—ã–π MDE
sample_size = calculator.calculate_sample_size_absolute(
    p1=0.1,
    absolute_mde=0.02  # p2 = 0.12
)
print(f"–†–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –Ω–∞ –≥—Ä—É–ø–ø—É: {sample_size}")
```

## üìà –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
```Python
calculator.sample_size_plot(
    p1=0.1,
    mde_list=[0.01, 0.05, 0.1, 0.15, 0.2],
    relative=True,
    split_ratio=0.5
)
```
[![Python](./mde_plot.png)](https://www.python.org/)
## ‚öôÔ∏è –ê—Ä–≥—É–º–µ–Ω—Ç—ã

–ú–µ—Ç–æ–¥—ã calculate_sample_size_relative –∏ calculate_sample_size_absolute –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
| –ü–∞—Ä–∞–º–µ—Ç—Ä                | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                              |
| ----------------------- | ------- | --------------------------------------------------------------------- |
| `p1`                    | `float` | –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è (–æ—Ç 0 –¥–æ 1)                                         |
| `relative_mde`          | `float` | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç –≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö             |
| `absolute_mde`          | `float` | –¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö                                 |
| `alpha`                 | `float` | –£—Ä–æ–≤–µ–Ω—å –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.05                                 |
| `power`                 | `float` | –ú–æ—â–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.8                                      |
| `two_tailed`            | `bool`  | –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Ç–µ—Å—Ç, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `True`                                |
| `bonferroni_correction` | `int`   | –ö–æ–ª-–≤–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π –¥–ª—è –ø–æ–ø—Ä–∞–≤–∫–∏ –ë–æ–Ω—Ñ–µ—Ä–æ–Ω–Ω–∏ (1 ‚Äî –±–µ–∑ –ø–æ–ø—Ä–∞–≤–∫–∏)           |
| `split_ratio`           | `float` | –î–æ–ª—è —Ç—Ä–∞—Ñ–∏–∫–∞, –Ω–∞–ø—Ä–∞–≤–ª—è–µ–º–∞—è –≤ —Ç–µ—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.3 –¥–ª—è 30% –Ω–∞ –≥—Ä—É–ø–ø—É B) |


## üìå –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

    –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ A/B –∏ —Å–ø–ª–∏—Ç-—Ç–µ—Å—Ç–æ–≤

    –û—Ü–µ–Ω–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞

    –£—á—ë—Ç MDE –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥–∏–ø–æ—Ç–µ–∑ –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞—Ö

## üîß –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

    scipy

    numpy

    plotly

## üßæ –õ–∏—Ü–µ–Ω–∑–∏—è

–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ MIT License.

## ‚úçÔ∏è –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –∑–∞–±–æ—Ç–æ–π –æ–± –∞–Ω–∞–ª–∏—Ç–∏–∫–∞—Ö –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö ‚ù§Ô∏è
Ramis Sungatullin